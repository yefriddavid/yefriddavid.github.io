import{y,r as X,z as te,u as ie,j as m,A as ne,C as oe,L as ae,B as ue}from"./index-C9R5dr4l.js";import{C as se,a as ce}from"./index.esm-DyrUdWGe.js";import{C as K,a as V}from"./CRow-Dj2Pjh3K.js";import{C as de}from"./CCardGroup-DFYeSHC0.js";import{C as J,a as Q}from"./CCardBody-DLilCNCM.js";import{C as le}from"./CForm-AcZFCa2J.js";import{C as $}from"./CInputGroup-D2aYLMoG.js";import{C as W}from"./CFormInput-phDfWmIO.js";import{C as fe}from"./CFormSwitch-B1jsjsMh.js";import{a as Ce}from"./CButton-Cqz28nAs.js";import{c as ve}from"./cil-user-Ddrdy7PS.js";import"./CFormControlWrapper-CqQISbs0.js";import"./CFormControlValidation-DGR5hSds.js";import"./CFormLabel-Bu9l2MvF.js";var D={},z={},R={};Object.defineProperty(R,"__esModule",{value:!0});R.parse=we;R.serialize=_e;const ke=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,me=/^[\u0021-\u003A\u003C-\u007E]*$/,he=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,ge=/^[\u0020-\u003A\u003D-\u007E]*$/,ye=Object.prototype.toString,be=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function we(e,l){const a=new be,C=e.length;if(C<2)return a;const g=(l==null?void 0:l.decode)||je;let c=0;do{const w=e.indexOf("=",c);if(w===-1)break;const _=e.indexOf(";",c),b=_===-1?C:_;if(w>b){c=e.lastIndexOf(";",w-1)+1;continue}const j=Y(e,c,w),S=Z(e,w,j),h=e.slice(j,S);if(a[h]===void 0){let f=Y(e,w+1,b),d=Z(e,b,f);const v=g(e.slice(f,d));a[h]=v}c=b+1}while(c<C);return a}function Y(e,l,a){do{const C=e.charCodeAt(l);if(C!==32&&C!==9)return l}while(++l<a);return a}function Z(e,l,a){for(;l>a;){const C=e.charCodeAt(--l);if(C!==32&&C!==9)return l+1}return a}function _e(e,l,a){const C=(a==null?void 0:a.encode)||encodeURIComponent;if(!ke.test(e))throw new TypeError(`argument name is invalid: ${e}`);const g=C(l);if(!me.test(g))throw new TypeError(`argument val is invalid: ${l}`);let c=e+"="+g;if(!a)return c;if(a.maxAge!==void 0){if(!Number.isInteger(a.maxAge))throw new TypeError(`option maxAge is invalid: ${a.maxAge}`);c+="; Max-Age="+a.maxAge}if(a.domain){if(!he.test(a.domain))throw new TypeError(`option domain is invalid: ${a.domain}`);c+="; Domain="+a.domain}if(a.path){if(!ge.test(a.path))throw new TypeError(`option path is invalid: ${a.path}`);c+="; Path="+a.path}if(a.expires){if(!Se(a.expires)||!Number.isFinite(a.expires.valueOf()))throw new TypeError(`option expires is invalid: ${a.expires}`);c+="; Expires="+a.expires.toUTCString()}if(a.httpOnly&&(c+="; HttpOnly"),a.secure&&(c+="; Secure"),a.partitioned&&(c+="; Partitioned"),a.priority)switch(typeof a.priority=="string"?a.priority.toLowerCase():void 0){case"low":c+="; Priority=Low";break;case"medium":c+="; Priority=Medium";break;case"high":c+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${a.priority}`)}if(a.sameSite)switch(typeof a.sameSite=="string"?a.sameSite.toLowerCase():a.sameSite){case!0:case"strict":c+="; SameSite=Strict";break;case"lax":c+="; SameSite=Lax";break;case"none":c+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${a.sameSite}`)}return c}function je(e){if(e.indexOf("%")===-1)return e;try{return decodeURIComponent(e)}catch{return e}}function Se(e){return ye.call(e)==="[object Date]"}var x={};Object.defineProperty(x,"__esModule",{value:!0});x.getRenderPhase=x.isClientSide=x.decode=x.stringify=void 0;var Oe=function(e){try{if(typeof e=="string")return e;var l=JSON.stringify(e);return l}catch{return e}};x.stringify=Oe;var Pe=function(e){return e&&e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)};x.decode=Pe;var pe=function(e){return!(e!=null&&e.req)&&!(e!=null&&e.res)&&!(e&&"cookies"in e&&(e!=null&&e.cookies))};x.isClientSide=pe;var xe=function(){return typeof window>"u"?"server":"client"};x.getRenderPhase=xe;var B={};Object.defineProperty(B,"__esModule",{value:!0});(function(e){var l=y&&y.__assign||function(){return l=Object.assign||function(r){for(var t,n=1,o=arguments.length;n<o;n++){t=arguments[n];for(var k in t)Object.prototype.hasOwnProperty.call(t,k)&&(r[k]=t[k])}return r},l.apply(this,arguments)},a=y&&y.__createBinding||(Object.create?function(r,t,n,o){o===void 0&&(o=n);var k=Object.getOwnPropertyDescriptor(t,n);(!k||("get"in k?!t.__esModule:k.writable||k.configurable))&&(k={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(r,o,k)}:function(r,t,n,o){o===void 0&&(o=n),r[o]=t[n]}),C=y&&y.__exportStar||function(r,t){for(var n in r)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&a(t,r,n)};Object.defineProperty(e,"__esModule",{value:!0}),e.useCookiesNext=e.useDeleteCookie=e.useGetCookie=e.useSetCookie=e.useHasCookie=e.useGetCookies=e.hasCookie=e.deleteCookie=e.setCookie=e.getCookie=e.getCookies=void 0;var g=R,c=x,w=X,_=function(r){if(!(0,c.isClientSide)(r))throw new Error("You are trying to access cookies on the server side. Please, use the server-side import with `cookies-next/server` instead.")},b=function(r){if(_(r),(0,c.getRenderPhase)()!=="server"){for(var t={},n=document.cookie?document.cookie.split("; "):[],o=0,k=n.length;o<k;o++){var p=n[o].split("="),N=p.slice(1).join("="),u=p[0];t[u]=N}return t}};e.getCookies=b;var j=function(r,t){_(t);var n=b(t),o=n==null?void 0:n[r];if(o!==void 0)return(0,c.decode)(o)};e.getCookie=j;var S=function(r,t,n){if(_(n),(0,c.getRenderPhase)()!=="server"){var o=n||{},k=(0,g.serialize)(r,(0,c.stringify)(t),l({path:"/"},o));document.cookie=k}};e.setCookie=S;var h=function(r,t){_(t),S(r,"",l(l({},t),{maxAge:-1}))};e.deleteCookie=h;var f=function(r,t){if(_(t),!r)return!1;var n=b(t);return n?Object.prototype.hasOwnProperty.call(n,r):!1};e.hasCookie=f;var d=function(r){var t=(0,w.useState)(!1),n=t[0],o=t[1];return(0,w.useEffect)(function(){o(!0)},[]),n?r:function(){}},v=function(){return d(b)};e.useGetCookies=v;var P=function(){return d(j)};e.useGetCookie=P;var E=function(){return d(f)};e.useHasCookie=E;var q=function(){return d(S)};e.useSetCookie=q;var i=function(){return d(h)};e.useDeleteCookie=i;var s=function(){return{getCookies:v(),getCookie:P(),hasCookie:E(),setCookie:q(),deleteCookie:i()}};e.useCookiesNext=s,C(B,e)})(z);var ee={};(function(e){var l=y&&y.__assign||function(){return l=Object.assign||function(i){for(var s,r=1,t=arguments.length;r<t;r++){s=arguments[r];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(i[n]=s[n])}return i},l.apply(this,arguments)},a=y&&y.__createBinding||(Object.create?function(i,s,r,t){t===void 0&&(t=r);var n=Object.getOwnPropertyDescriptor(s,r);(!n||("get"in n?!s.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return s[r]}}),Object.defineProperty(i,t,n)}:function(i,s,r,t){t===void 0&&(t=r),i[t]=s[r]}),C=y&&y.__exportStar||function(i,s){for(var r in i)r!=="default"&&!Object.prototype.hasOwnProperty.call(s,r)&&a(s,i,r)},g=y&&y.__awaiter||function(i,s,r,t){function n(o){return o instanceof r?o:new r(function(k){k(o)})}return new(r||(r=Promise))(function(o,k){function p(O){try{u(t.next(O))}catch(A){k(A)}}function N(O){try{u(t.throw(O))}catch(A){k(A)}}function u(O){O.done?o(O.value):n(O.value).then(p,N)}u((t=t.apply(i,s||[])).next())})},c=y&&y.__generator||function(i,s){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},t,n,o,k;return k={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(k[Symbol.iterator]=function(){return this}),k;function p(u){return function(O){return N([u,O])}}function N(u){if(t)throw new TypeError("Generator is already executing.");for(;k&&(k=0,u[0]&&(r=0)),r;)try{if(t=1,n&&(o=u[0]&2?n.return:u[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,u[1])).done)return o;switch(n=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,n=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){r.label=u[1];break}if(u[0]===6&&r.label<o[1]){r.label=o[1],o=u;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(u);break}o[2]&&r.ops.pop(),r.trys.pop();continue}u=s.call(i,r)}catch(O){u=[6,O],n=0}finally{t=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},w=y&&y.__rest||function(i,s){var r={};for(var t in i)Object.prototype.hasOwnProperty.call(i,t)&&s.indexOf(t)<0&&(r[t]=i[t]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(i);n<t.length;n++)s.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(i,t[n])&&(r[t[n]]=i[t[n]]);return r};Object.defineProperty(e,"__esModule",{value:!0}),e.hasCookie=e.deleteCookie=e.setCookie=e.getCookie=e.getCookies=void 0;var _=R,b=x,j=function(i){if((0,b.isClientSide)(i))throw new Error("You are trying to access cookies on the client side. Please, use the client-side import with `cookies-next/client` instead.")},S=function(i){return i?"getAll"in i&&"set"in i&&typeof i.getAll=="function"&&typeof i.set=="function":!1},h=function(i){return!!(i!=null&&i.req)&&"cookies"in i.req&&S(i.req.cookies)||!!(i!=null&&i.res)&&"cookies"in i.res&&S(i.res.cookies)||!!i&&"cookies"in i&&typeof i.cookies=="function"},f=function(i){var s={};return i.getAll().forEach(function(r){var t=r.name,n=r.value;s[t]=n}),s},d=function(i){return g(void 0,void 0,void 0,function(){var s,r;return c(this,function(t){switch(t.label){case 0:return j(i),h(i)?i.req?[2,f(i.req.cookies)]:i.res?[2,f(i.res.cookies)]:i.cookies?(s=f,[4,i.cookies()]):[3,2]:[3,2];case 1:return[2,s.apply(void 0,[t.sent()])];case 2:return i!=null&&i.req&&(r=i.req),r!=null&&r.cookies?[2,r.cookies]:r!=null&&r.headers.cookie?[2,(0,_.parse)(r.headers.cookie)]:[2,{}]}})})};e.getCookies=d;var v=function(i,s){return g(void 0,void 0,void 0,function(){var r,t;return c(this,function(n){switch(n.label){case 0:return j(s),[4,d(s)];case 1:return r=n.sent(),t=r[i],t===void 0?[2,void 0]:[2,(0,b.decode)(t)]}})})};e.getCookie=v;var P=function(i,s,r){return g(void 0,void 0,void 0,function(){var t,n,o,k,p,N,u,O,A,F,L,T,H,M,I,I;return c(this,function(G){switch(G.label){case 0:return j(r),h(r)?(t=r.req,n=r.res,o=r.cookies,k=w(r,["req","res","cookies"]),p=l({name:i,value:(0,b.stringify)(s)},k),t&&t.cookies.set(p),n&&n.cookies.set(p),o?[4,o()]:[3,2]):[3,3];case 1:G.sent().set(p),G.label=2;case 2:return[2];case 3:return N={},r&&(A=r,F=A.req,L=A.res,T=w(A,["req","res"]),u=F,O=L,N=T),H=(0,_.serialize)(i,(0,b.stringify)(s),l({path:"/"},N)),O&&u&&(M=O.getHeader("Set-Cookie"),Array.isArray(M)||(M=M?[String(M)]:[]),O.setHeader("Set-Cookie",M.concat(H)),u&&u.cookies&&(I=u.cookies,s===""?delete I[i]:I[i]=(0,b.stringify)(s)),u&&u.headers&&u.headers.cookie&&(I=(0,_.parse)(u.headers.cookie),s===""?delete I[i]:I[i]=(0,b.stringify)(s),u.headers.cookie=Object.entries(I).reduce(function(re,U){return re.concat("".concat(U[0],"=").concat(U[1],";"))},""))),[2]}})})};e.setCookie=P;var E=function(i,s){return g(void 0,void 0,void 0,function(){return c(this,function(r){return j(s),[2,P(i,"",l(l({},s),{maxAge:-1}))]})})};e.deleteCookie=E;var q=function(i,s){return g(void 0,void 0,void 0,function(){var r;return c(this,function(t){switch(t.label){case 0:return j(s),i?[4,d(s)]:[2,!1];case 1:return r=t.sent(),[2,r.hasOwnProperty(i)]}})})};e.hasCookie=q,C(B,e)})(ee);(function(e){var l=y&&y.__createBinding||(Object.create?function(f,d,v,P){P===void 0&&(P=v);var E=Object.getOwnPropertyDescriptor(d,v);(!E||("get"in E?!d.__esModule:E.writable||E.configurable))&&(E={enumerable:!0,get:function(){return d[v]}}),Object.defineProperty(f,P,E)}:function(f,d,v,P){P===void 0&&(P=v),f[P]=d[v]}),a=y&&y.__exportStar||function(f,d){for(var v in f)v!=="default"&&!Object.prototype.hasOwnProperty.call(d,v)&&l(d,f,v)};Object.defineProperty(e,"__esModule",{value:!0}),e.useCookiesNext=e.useDeleteCookie=e.useGetCookie=e.useSetCookie=e.useHasCookie=e.useGetCookies=e.hasCookie=e.deleteCookie=e.setCookie=e.getCookie=e.getCookies=void 0;var C=z,g=ee;a(B,e);var c=x,w=function(f){return(0,c.isClientSide)(f)?C.getCookies(f):g.getCookies(f)};e.getCookies=w;var _=function(f,d){return(0,c.isClientSide)(d)?C.getCookie(f,d):g.getCookie(f,d)};e.getCookie=_;var b=function(f,d,v){return(0,c.isClientSide)(v)?C.setCookie(f,d,v):g.setCookie(f,d,v)};e.setCookie=b;var j=function(f,d){return(0,c.isClientSide)(d)?C.deleteCookie(f,d):g.deleteCookie(f,d)};e.deleteCookie=j;var S=function(f,d){return(0,c.isClientSide)(d)?C.hasCookie(f,d):g.hasCookie(f,d)};e.hasCookie=S;var h=z;Object.defineProperty(e,"useGetCookies",{enumerable:!0,get:function(){return h.useGetCookies}}),Object.defineProperty(e,"useHasCookie",{enumerable:!0,get:function(){return h.useHasCookie}}),Object.defineProperty(e,"useSetCookie",{enumerable:!0,get:function(){return h.useSetCookie}}),Object.defineProperty(e,"useGetCookie",{enumerable:!0,get:function(){return h.useGetCookie}}),Object.defineProperty(e,"useDeleteCookie",{enumerable:!0,get:function(){return h.useDeleteCookie}}),Object.defineProperty(e,"useCookiesNext",{enumerable:!0,get:function(){return h.useCookiesNext}})})(D);const Ee=e=>l=>{const[a,C]=te(),g=ie();return m.jsx(e,{...l,searchParams:a,setSearchParams:C,location:g})},Ne=e=>{const l=D.getCookie("username")||"",a=D.getCookie("password")||"",[C,g]=X.useState({username:l,password:a,disabledButton:!1,rememberMeChecked:l!="",defaultChecked:l!=""}),c=ne();document.title="yefriddavid",localStorage.getItem("token")&&setTimeout(()=>{c("/managment/payments")},1);const _=h=>{const{checked:f}=h.target;if(S({target:{name:"rememberMeChecked",value:f}}),f===!0){const{username:d,password:v}=C;console.log(d),console.log(v),D.setCookie("username",d),D.setCookie("password",v)}else D.deleteCookie("username"),D.deleteCookie("password")},b=h=>{h.key==="Enter"?j():_({target:{checked:C.rememberMeChecked}})},j=async()=>{S({target:{name:"disabledButton",value:!0}});const{username:h,password:f}=C,d=new FormData;d.append("action","login"),d.append("username",h),d.append("password",f);const v=await ue({method:"post",url:"https://script.google.com/macros/s/AKfycbwOS916agIRqJAsraUBueji2cWmrKCceoVkaSpxhoKvvkc0jewAeQ5ZMNA7Ks_syf7BNQ/exec",data:d,headers:{"Content-Type":"multipart/form-data"}});v.data.status=="ok"&&v.data.data.token?(localStorage.setItem("token",v.data.data.token),c("/managment/payments")):(S({target:{name:"disabledButton",value:!1}}),alert(v.data.message))},S=h=>{g({...C,[h.target.name]:h.target.value})};return m.jsx("div",{className:"bg-body-tertiary min-vh-100 d-flex flex-row align-items-center",children:m.jsx(se,{children:m.jsx(K,{className:"justify-content-center",children:m.jsx(V,{md:8,children:m.jsxs(de,{children:[m.jsx(J,{className:"p-4",style:{width:"44%",backgroundColor:"#ffc107"},children:m.jsx(Q,{children:m.jsxs(le,{children:[m.jsx("h1",{children:"Login"}),m.jsx("p",{className:"text-body-secondary",children:"Sign In to your account"}),m.jsx($,{className:"mb-3",children:m.jsx(W,{name:"username",value:C.username,onChange:S,onKeyDown:b,placeholder:"Username",autoComplete:"username"})}),m.jsx($,{className:"mb-4",children:m.jsx(W,{name:"password",value:C.password,onChange:S,onKeyDown:b,type:"password",placeholder:"Password",autoComplete:"current-password"})}),m.jsx($,{className:"mb-4",children:m.jsx(fe,{onChange:_,label:"Remember me",id:"formSwitchCheckChecked",defaultChecked:C.defaultChecked})}),m.jsx(K,{children:m.jsx(V,{xs:12,children:m.jsxs(Ce,{disabled:C.disabledButton,onClick:j,color1:"primary",className:"px-4",style:{backgroundColor:"black",color:"white",width:"100%"},children:[C.disabledButton==!0?m.jsx(oe,{as:"span",size:"sm","aria-hidden":"true"}):m.jsx(ce,{icon:ve})," ","Login"]})})})]})})}),m.jsx(J,{className:"text-white bg-primary1 py-5 .d-none .d-sm-block .d-md-none",style:{width:"44%",backgroundColor:"#000"},children:m.jsx(Q,{className:"text-center",children:m.jsxs("div",{children:[m.jsx("h2",{children:"Managment Software"}),m.jsxs("p",{children:["Powered by "," ",m.jsx(ae,{to:"https://yefriddavid.github.io",children:"@yefriddavid"})]})]})})})]})})})})})},Ue=Ee(Ne);export{Ue as default};
